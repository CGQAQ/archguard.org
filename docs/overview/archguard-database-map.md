---
layout: default
parent: Overview
title: Database map
permalink: /overview/database-map
nav_order: 3
---

过去的 10 年间，软件的架构发生了巨大的变化，从早先流行的单体 MVC 架构，变成了所谓的 5：5 开，即分布式 vs 单体。只是呢，有大量的软件开发人员，无法看到系统的全貌，又或者是从单体的思维转变过来。于是，哪怕是在使用了微服务的情况下，但是实现的却又是一个一个的单体，只是它们变成了“分布式的单体”。

作为一个架构师或者是软件开发人员，在架构治理上，我们面对的诸多挑战有：

- 设计与实现不匹配。设计的软件架构与真正实施后的架构，存在着巨大的差异。而这个差异，往往需要编码上线、乃至一段时间之后才能发现。
- 没有规范/不遵守规范。作为一个资深的开发人员，我们制定了一系列的规范，但是没有多少团队人员愿意遵守。
- 代码量巨大，难以识别问题。一个由十几个或者几十个微服务创建的系统，往往难以快速发现它们之间错综复杂的关系。
- 架构模型的每个层级都可能出错。如服务间 API 耦合、代码间耦合、数据库耦合等等。
- 架构师、开发人员自身缺乏丰富的经验。知道有问题，但是说不出来哪有问题，也不知道如何改进。

ArchGuard 按照流行的 C4 架构模型进行分层化的分析。即在 System Context（上下文）, Container（容器）, Component（部件）, Code（代码）四个不同的架构视图上，它们是不同的抽象级别，对应于不同的受众，如团队内开发人员关心代码内的依赖，架构师关心组件、窗口间的依赖。

![Home](/assets/140/home.png)

而在最后的实现形式上，它们是以代码库和文档的形式存在的。ArchGuard 是基于代码的静态分析工具，未来也将基于设计提供这方面的功能。

在 ArchGuard 中，我们需要先创建一系列的系统组件，即要配置好对应的语言和 GitHub 地址，就可以对代码进行扫描。

